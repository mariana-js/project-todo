<div class="container-global">

  <div class="modo">
    <img src="assets/mode-light.png" alt="mode">
  </div>

  <div class="title">

    <div class="image-title">
      <img src="assets/Icone.png" alt="TaskList">
    </div>

    <div class="title-principal">
      <h1>Lista de Tarefas</h1>
      <h3 *ngIf="nowdate">{{ nowdate | date: 'dd/MM/yyyy' }}</h3>
    </div>
  </div>

  <div class="container-add-todo">
    <input type="text" [(ngModel)]="newTask.title" placeholder="Insira o titulo da tarefa">
    <input type="text" [(ngModel)]="newTask.description" placeholder="Insira a descriÃ§Ã£o da tarefa">
    <input type="date" [(ngModel)]="newTask.date">
    <input type="time" [(ngModel)]="newTask.time">
    <button type="submit"><img src="assets/add.png" alt="add-task" (click)="save()"></button>
  </div>
  <div class="container-todo">
    <div class="todo">
      <div class="title-todo">
        <h2>My Tasks</h2>
      </div>
      <table>

        <thead>
          <tr>
            <th></th> <!-- Status -->
            <th>Tarefa</th>
            <th></th><!-- Date and time -->
            <th></th> <!-- Update -->
            <th></th> <!-- Delete -->
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let task of filteredTasks">
            <td class="task">
            <td>
              <input type="checkbox" name="status" [checked]="task.status" (change)="toggleStatus(task)">
            </td>
            <td>
              <span>{{task.title}}</span>
              <span>{{task.description}}</span>
            </td>
            <td>- {{task.date | date:'short'}} - {{task.time}}</td>
            <td><img src="assets/update.png" alt="update-task" (click)="save(); this.taskSelected === true; this.editTask(task); "></td>
            <td ><img src="assets/delete.png" alt="delete-task"  (click)="deleteTask(task.id)" ></td>
           
          </tr>
        </tbody>

      </table>

    </div>
    <div class="task-finished">
      <div class="title-todo">
        <h2>Tasks Finished</h2>
      </div>
      <table>

        <thead>
          <tr>
            <th></th> <!-- Status -->
            <th>Tarefa</th>
            <th></th><!-- Date and time -->
            <th></th> <!-- Update -->
            <th></th> <!-- Delete -->
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let task of completedTasks">
            <td class="task">
              <td>
                <input type="checkbox" name="status" [checked]="task.status" (change)="toggleStatus(task)">
              </td>
              <td>
                <span>{{task.title}}</span>
                <span>{{task.description}}</span>
              </td>
              <td>- {{task.date | date:'short'}} - {{task.time}}</td>
              <td><img src="assets/update.png" alt="update-task"></td>
              <td ><img src="assets/delete.png" alt="delete-task"  (click)="deleteTask(task.id)" ></td>
              <!--  -->
          </tr>

        </tbody>

      </table>
    </div>

  </div>

</div>
